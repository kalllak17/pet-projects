"use strict";
const QuestionsList = []; // question category, question number, question text, was already in use?
let category = '';
document.addEventListener('DOMContentLoaded', () => {
    const buttonElement = document.querySelector('button');
    const categoryList = document.getElementById('categoryList');
    fetch('Qlist_2.txt')
        .then((response) => {
            return response.text();
        })
        .then((data) => {
            //add to array
            let i = 0;
            let tempIndex = 0;
            let index = data.indexOf('\n');
            let indexTab = data.indexOf('\t');
            while (index != -1) {
                let tempTuple = [replaceString(data.substring(tempIndex, indexTab)), i++, replaceString(data.substring(indexTab, index)), false];
                tempIndex = index;
                QuestionsList.push(tempTuple);
                index = data.indexOf('\n', index + 1);
                indexTab = data.indexOf('\t', indexTab + 1);
            }
            setCategoryList();
            category = categoryList.options[categoryList.selectedIndex].value;
        })
        .catch(error => {
            console.error('There was a problem with the fetch operation:', error);
        });
    categoryList.addEventListener("change", function () {
        category = categoryList.options[categoryList.selectedIndex].value;
    });
    buttonElement.addEventListener('click', () => {
        let questionP = document.getElementById('questionP');
        questionP.innerHTML = getQuestion()[2];
    }, false);
});
function getQuestion() {
    function getRandomQuestion(filteredArray) {
        return Math.floor(Math.random() * filteredArray.length);
    }
    const filteredArray = QuestionsList.filter((element) => {
        return element[0] === category;
    });
    let qNumber = getRandomQuestion(filteredArray);
    let iterationNumber = 0;
    while (filteredArray[qNumber][3]) { // column 4 is marker
        qNumber = getRandomQuestion(filteredArray);
        iterationNumber++;
        if (iterationNumber > filteredArray.length) {
            break;
        }
    }
    filteredArray[qNumber][3] = true;
    return filteredArray[qNumber];
}
function setCategoryList() {
    let categorySet = new Set(QuestionsList.map((item) => item[0]));
    const categoryList = document.getElementById('categoryList');
    categorySet.forEach((element) => {
        let newListPart = document.createElement('option');
        newListPart.setAttribute('value', `${element}`);
        newListPart.innerText = element;
        categoryList.appendChild(newListPart);
    });
}
function replaceString(originalString) {
    let newString = originalString.replace("\n", '');
    newString = newString.replace("\t", '');
    return newString;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnB1dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sYUFBYSxHQUF3QyxFQUFFLENBQUMsQ0FBQyx5RUFBeUU7QUFDeEksSUFBSSxRQUFRLEdBQVcsRUFBRSxDQUFDO0FBRTFCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFTLEVBQUU7SUFFckQsTUFBTSxhQUFhLEdBQXNCLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFzQixDQUFDO0lBQy9GLE1BQU0sWUFBWSxHQUFzQixRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBc0IsQ0FBQztJQUVyRyxLQUFLLENBQUMsYUFBYSxDQUFDO1NBQ2YsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7UUFDZixPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMzQixDQUFDLENBQUM7U0FDRCxJQUFJLENBQUMsQ0FBQyxJQUFZLEVBQUUsRUFBRTtRQUNuQixjQUFjO1FBQ2QsSUFBSSxDQUFDLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLElBQUksU0FBUyxHQUFXLENBQUMsQ0FBQztRQUMxQixJQUFJLEtBQUssR0FBVyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLElBQUksUUFBUSxHQUFXLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsT0FBTyxLQUFLLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNqQixJQUFJLFNBQVMsR0FBc0MsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNwSyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ2xCLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDOUIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN0QyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFDRCxlQUFlLEVBQUUsQ0FBQztRQUNsQixRQUFRLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ3RFLENBQUMsQ0FBQztTQUNELEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsK0NBQStDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDMUUsQ0FBQyxDQUFDLENBQUM7SUFFUCxZQUFZLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1FBQ3BDLFFBQVEsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDdEUsQ0FBQyxDQUFDLENBQUM7SUFFSCxhQUFhLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQVMsRUFBRTtRQUMvQyxJQUFJLFNBQVMsR0FBZ0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQWdCLENBQUM7UUFDakYsU0FBUyxDQUFDLFNBQVMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUE7QUFFYixDQUFDLENBQUMsQ0FBQztBQUVILFNBQVMsV0FBVztJQUNoQixTQUFTLGlCQUFpQixDQUFDLGFBQWtEO1FBQ3pFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFHRCxNQUFNLGFBQWEsR0FBd0MsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQTBDLEVBQVcsRUFBRTtRQUNwSSxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLENBQUM7SUFDbkMsQ0FBQyxDQUFDLENBQUM7SUFHSCxJQUFJLE9BQU8sR0FBVyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN2RCxJQUFJLGVBQWUsR0FBVyxDQUFDLENBQUM7SUFDaEMsT0FBTyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtRQUNyRCxPQUFPLEdBQUcsaUJBQWlCLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDM0MsZUFBZSxFQUFFLENBQUM7UUFDbEIsSUFBSSxlQUFlLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pDLE1BQU07UUFDVixDQUFDO0lBQ0wsQ0FBQztJQUNELGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDakMsT0FBTyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbEMsQ0FBQztBQUVELFNBQVMsZUFBZTtJQUNwQixJQUFJLFdBQVcsR0FBZ0IsSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQXVDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEgsTUFBTSxZQUFZLEdBQWdCLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFnQixDQUFDO0lBRXpGLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFlLEVBQVEsRUFBRTtRQUMxQyxJQUFJLFdBQVcsR0FBc0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQXNCLENBQUM7UUFDM0YsV0FBVyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsR0FBRyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELFdBQVcsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ2hDLFlBQVksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsU0FBUyxhQUFhLENBQUMsY0FBc0I7SUFDekMsSUFBSSxTQUFTLEdBQVcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDekQsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLE9BQU8sU0FBUyxDQUFDO0FBQ3JCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBRdWVzdGlvbnNMaXN0OiBbc3RyaW5nLCBudW1iZXIsIHN0cmluZywgYm9vbGVhbl1bXSA9IFtdOyAvLyBxdWVzdGlvbiBjYXRlZ29yeSwgcXVlc3Rpb24gbnVtYmVyLCBxdWVzdGlvbiB0ZXh0LCB3YXMgYWxyZWFkeSBpbiB1c2U/XG5sZXQgY2F0ZWdvcnk6IHN0cmluZyA9ICcnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCk6IHZvaWQgPT4ge1xuXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBjb25zdCBjYXRlZ29yeUxpc3Q6IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5TGlzdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuXG4gICAgZmV0Y2goJ1FsaXN0XzIudHh0JylcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAvL2FkZCB0byBhcnJheVxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgdGVtcEluZGV4OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IGluZGV4OiBudW1iZXIgPSBkYXRhLmluZGV4T2YoJ1xcbicpO1xuICAgICAgICAgICAgbGV0IGluZGV4VGFiOiBudW1iZXIgPSBkYXRhLmluZGV4T2YoJ1xcdCcpO1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBUdXBsZTogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW5dID0gW3JlcGxhY2VTdHJpbmcoZGF0YS5zdWJzdHJpbmcodGVtcEluZGV4LCBpbmRleFRhYikpLCBpKyssIHJlcGxhY2VTdHJpbmcoZGF0YS5zdWJzdHJpbmcoaW5kZXhUYWIsIGluZGV4KSksIGZhbHNlXTtcbiAgICAgICAgICAgICAgICB0ZW1wSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBRdWVzdGlvbnNMaXN0LnB1c2godGVtcFR1cGxlKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGRhdGEuaW5kZXhPZignXFxuJywgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBpbmRleFRhYiA9IGRhdGEuaW5kZXhPZignXFx0JywgaW5kZXhUYWIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENhdGVnb3J5TGlzdCgpO1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBjYXRlZ29yeUxpc3Qub3B0aW9uc1tjYXRlZ29yeUxpc3Quc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIGZldGNoIG9wZXJhdGlvbjonLCBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgY2F0ZWdvcnlMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXRlZ29yeSA9IGNhdGVnb3J5TGlzdC5vcHRpb25zW2NhdGVnb3J5TGlzdC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgICB9KTtcblxuICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKTogdm9pZCA9PiB7XG4gICAgICAgIGxldCBxdWVzdGlvblA6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uUCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBxdWVzdGlvblAuaW5uZXJIVE1MID0gZ2V0UXVlc3Rpb24oKVsyXTtcbiAgICB9LCBmYWxzZSlcblxufSk7XG5cbmZ1bmN0aW9uIGdldFF1ZXN0aW9uKCk6IFtzdHJpbmcsIG51bWJlciwgc3RyaW5nLCBib29sZWFuXSB7XG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tUXVlc3Rpb24oZmlsdGVyZWRBcnJheTogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW5dW10pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmlsdGVyZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuXG4gICAgY29uc3QgZmlsdGVyZWRBcnJheTogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW5dW10gPSBRdWVzdGlvbnNMaXN0LmZpbHRlcigoZWxlbWVudDogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW5dKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiBlbGVtZW50WzBdID09PSBjYXRlZ29yeTtcbiAgICB9KTtcblxuXG4gICAgbGV0IHFOdW1iZXI6IG51bWJlciA9IGdldFJhbmRvbVF1ZXN0aW9uKGZpbHRlcmVkQXJyYXkpO1xuICAgIGxldCBpdGVyYXRpb25OdW1iZXI6IG51bWJlciA9IDA7XG4gICAgd2hpbGUgKGZpbHRlcmVkQXJyYXlbcU51bWJlcl1bM10pIHsgLy8gY29sdW1uIDQgaXMgbWFya2VyXG4gICAgICAgIHFOdW1iZXIgPSBnZXRSYW5kb21RdWVzdGlvbihmaWx0ZXJlZEFycmF5KTtcbiAgICAgICAgaXRlcmF0aW9uTnVtYmVyKys7XG4gICAgICAgIGlmIChpdGVyYXRpb25OdW1iZXIgPiBmaWx0ZXJlZEFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlsdGVyZWRBcnJheVtxTnVtYmVyXVszXSA9IHRydWU7XG4gICAgcmV0dXJuIGZpbHRlcmVkQXJyYXlbcU51bWJlcl07XG59XG5cbmZ1bmN0aW9uIHNldENhdGVnb3J5TGlzdCgpOiB2b2lkIHtcbiAgICBsZXQgY2F0ZWdvcnlTZXQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldChRdWVzdGlvbnNMaXN0Lm1hcCgoaXRlbTogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW5dKSA9PiBpdGVtWzBdKSk7XG4gICAgY29uc3QgY2F0ZWdvcnlMaXN0OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeUxpc3QnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIGNhdGVnb3J5U2V0LmZvckVhY2goKGVsZW1lbnQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBsZXQgbmV3TGlzdFBhcnQ6IEhUTUxPcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykgYXMgSFRNTE9wdGlvbkVsZW1lbnQ7XG4gICAgICAgIG5ld0xpc3RQYXJ0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBgJHtlbGVtZW50fWApO1xuICAgICAgICBuZXdMaXN0UGFydC5pbm5lclRleHQgPSBlbGVtZW50O1xuICAgICAgICBjYXRlZ29yeUxpc3QuYXBwZW5kQ2hpbGQobmV3TGlzdFBhcnQpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlU3RyaW5nKG9yaWdpbmFsU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBuZXdTdHJpbmc6IHN0cmluZyA9IG9yaWdpbmFsU3RyaW5nLnJlcGxhY2UoXCJcXG5cIiwgJycpO1xuICAgIG5ld1N0cmluZyA9IG5ld1N0cmluZy5yZXBsYWNlKFwiXFx0XCIsICcnKTtcbiAgICByZXR1cm4gbmV3U3RyaW5nO1xufSJdfQ==